(()=>{"use strict";const t=t=>{if("ESCAPE"!==t.code.toUpperCase())return;const e=t.target.closest("details[open]");if(!e)return;const s=e.querySelector("summary");s&&(e.removeAttribute("open"),s.focus())};class e extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details");const t=this.querySelectorAll("summary");this.addAccessibilityAttributes(t),"iPhone"===navigator.platform&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach((t=>t.addEventListener("click",this.onSummaryClick.bind(this)))),this.querySelectorAll("button").forEach((t=>t.addEventListener("click",this.onCloseButtonClick.bind(this))))}addAccessibilityAttributes(t){t.forEach((t=>{t.setAttribute("role","button"),t.setAttribute("aria-expanded",!1),t.setAttribute("aria-controls",t.nextElementSibling.id)}))}onKeyUp(t){if("ESCAPE"!==t.code.toUpperCase())return;const e=t.target.closest("details[open]");if(e)if(this.mainDetailsToggle){const t=this.mainDetailsToggle.querySelector("summary");this.closeMenuDrawer(t)}else this.closeSubmenu(e)}onSummaryClick(t){const e=t.currentTarget,s=e.parentNode,i=s.hasAttribute("open");s===this.mainDetailsToggle?i?(t.preventDefault(),this.closeMenuDrawer(e)):this.openMenuDrawer(e):(window.trapFocus.trapFocus(e.nextElementSibling,s.querySelector("button")),setTimeout((()=>{s.classList.add("menu-opening")})))}openMenuDrawer(t){setTimeout((()=>{this.mainDetailsToggle.classList.add("menu-opening")})),t.setAttribute("aria-expanded",!0),window.trapFocus.trapFocus(this.mainDetailsToggle,t),document.body.classList.add(`overflow-hidden-${this.dataset.breakpoint}`)}closeMenuDrawer(t,e=!1){void 0!==t&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach((t=>{t.removeAttribute("open"),t.classList.remove("menu-opening")})),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1),document.body.classList.remove(`overflow-hidden-${this.dataset.breakpoint}`),window.trapFocus.removeTrapFocus(e),this.closeAnimation(this.mainDetailsToggle))}onFocusOut(){setTimeout((()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer()}))}onCloseButtonClick(t){const e=t.currentTarget.closest("details");this.closeSubmenu(e)}closeSubmenu(t){t.classList.remove("menu-opening"),window.trapFocus.removeTrapFocus(),this.closeAnimation(t)}closeAnimation(t){let e;const s=i=>{void 0===e&&(e=i),i-e<400?window.requestAnimationFrame(s):(t.removeAttribute("open"),t.closest("details[open]")&&window.trapFocus.trapFocus(t.closest("details[open]"),t.querySelector("summary")))};window.requestAnimationFrame(s)}}class s extends HTMLElement{constructor(){super(),this.slider=this.querySelector('[id^="Slider-"]'),this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.enableSliderLooping=!1,this.currentPageElement=this.querySelector(".slider-counter--current"),this.pageTotalElement=this.querySelector(".slider-counter--total"),this.prevButton=this.querySelector('button[name="previous"]'),this.nextButton=this.querySelector('button[name="next"]'),this.slider&&this.nextButton&&(this.initPages(),new ResizeObserver((t=>this.initPages())).observe(this.slider),this.slider.addEventListener("scroll",this.update.bind(this)),this.prevButton.addEventListener("click",this.onButtonClick.bind(this)),this.nextButton.addEventListener("click",this.onButtonClick.bind(this)))}initPages(){this.sliderItemsToShow=Array.from(this.sliderItems).filter((t=>t.clientWidth>0)),this.sliderItemsToShow.length<2||(this.sliderItemOffset=this.sliderItemsToShow[1].offsetLeft-this.sliderItemsToShow[0].offsetLeft,this.slidesPerPage=Math.floor((this.slider.clientWidth-this.sliderItemsToShow[0].offsetLeft)/this.sliderItemOffset),this.totalPages=this.sliderItemsToShow.length-this.slidesPerPage+1,this.update())}resetPages(){this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.initPages()}update(){const t=this.currentPage;this.currentPage=Math.round(this.slider.scrollLeft/this.sliderItemOffset)+1,this.currentPageElement&&this.pageTotalElement&&(this.currentPageElement.textContent=this.currentPage,this.pageTotalElement.textContent=this.totalPages),this.currentPage!==t&&this.dispatchEvent(new CustomEvent("slideChanged",{detail:{currentPage:this.currentPage,currentElement:this.sliderItemsToShow[this.currentPage-1]}})),this.enableSliderLooping||(this.isSlideVisible(this.sliderItemsToShow[0])&&0===this.slider.scrollLeft?this.prevButton.setAttribute("disabled","disabled"):this.prevButton.removeAttribute("disabled"),this.isSlideVisible(this.sliderItemsToShow[this.sliderItemsToShow.length-1])?this.nextButton.setAttribute("disabled","disabled"):this.nextButton.removeAttribute("disabled"))}isSlideVisible(t,e=0){const s=this.slider.clientWidth+this.slider.scrollLeft-e;return t.offsetLeft+t.clientWidth<=s&&t.offsetLeft>=this.slider.scrollLeft}onButtonClick(t){t.preventDefault();const e=t.currentTarget.dataset.step||1;this.slideScrollPosition="next"===t.currentTarget.name?this.slider.scrollLeft+e*this.sliderItemOffset:this.slider.scrollLeft-e*this.sliderItemOffset,this.slider.scrollTo({left:this.slideScrollPosition})}}class i extends HTMLElement{constructor(){super();const t=this.querySelector('[id^="Deferred-Poster-"]');t&&t.addEventListener("click",this.loadContent.bind(this))}loadContent(t=!0){if(document.querySelectorAll(".js-youtube").forEach((t=>{t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})),document.querySelectorAll(".js-vimeo").forEach((t=>{t.contentWindow.postMessage('{"method":"pause"}',"*")})),document.querySelectorAll("video").forEach((t=>t.pause())),document.querySelectorAll("product-model").forEach((t=>{t.modelViewerUI&&t.modelViewerUI.pause()})),!this.getAttribute("loaded")){const e=document.createElement("div");e.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0);const s=this.appendChild(e.querySelector("video, model-viewer, iframe"));t&&s.focus()}}}const o=i;class r extends HTMLElement{constructor(){super(),this.loadMoreButton=this.querySelector("[data-more-button]"),this.loadMoreButton&&this.initialise()}initialise(){this.postContainer=this.querySelector("[data-paged]"),this.postContainerId=this.postContainer.getAttribute("data-id"),this.totalPages=this.loadMoreButton.getAttribute("data-totalpages"),this.currentPage=1,this.url=document.location.href,this.fetchUrl=this.url.match(/[?]/)?this.url+"&paged=":this.url+"?paged=",this.parser=new DOMParser,this.currentPage==this.totalPages?(this.loadMoreButton.classList.add("last-page"),this.loadMoreButton.disabled=!0,this.loadMoreButton.innerHTML="No more posts"):this.currentPage<this.totalPages&&(this.loadMoreButton.disabled=!1,this.loadMoreButton.addEventListener("click",this.loadMorePosts.bind(this)))}async loadMorePosts(){this.currentPage++,this.loadMoreButton.innerHTML="Loading...";const t=await(await fetch(this.fetchUrl+this.currentPage).catch(this.errorHandle)).text(),e=this.parser.parseFromString(t,"text/html").querySelector(`[data-id="${this.postContainerId}"]`).querySelectorAll("[data-paged-article]");for(let t=0;t<e.length;t++)e[t].classList.add("hide"),this.postContainer.append(e[t]);const s=this.postContainer.querySelectorAll(".hide");setTimeout((function(){Array.prototype.map.call(s,(function(t){t.classList.remove("hide"),t.classList.add("show")}))}),300),this.currentPage==this.totalPages?(this.loadMoreButton.parentNode.classList.add("end-page"),this.loadMoreButton.classList.add("end-page"),this.loadMoreButton.disabled=!0,this.loadMoreButton.innerHTML="No more posts"):this.loadMoreButton.innerHTML="Load More";let i=new Event("articles-loaded");this.dispatchEvent(i)}errorHandle(t){console.warn(t)}}const n=r;(()=>{document.querySelectorAll('[id^="Details-"] summary').forEach((e=>{e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),e.nextElementSibling.getAttribute("id")&&e.setAttribute("aria-controls",e.nextElementSibling.id),e.addEventListener("click",(t=>{t.currentTarget.setAttribute("aria-expanded",!t.currentTarget.closest("details").hasAttribute("open"))})),e.closest("header-drawer")||e.parentElement.addEventListener("keyup",t)})),window.trapFocus={trapFocusHandlers:{},removeTrapFocus:(t=null)=>{document.removeEventListener("focusin",window.trapFocus.trapFocusHandlers.focusin),document.removeEventListener("focusout",window.trapFocus.trapFocusHandlers.focusout),document.removeEventListener("keydown",window.trapFocus.trapFocusHandlers.keydown),t&&t.focus()},trapFocus:(t,e=t)=>{const s=(t=>Array.from(t.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")))(t),i=s[0],o=s[s.length-1];window.trapFocus.removeTrapFocus(),window.trapFocus.trapFocusHandlers.focusin=e=>{e.target!==t&&e.target!==o&&e.target!==i||document.addEventListener("keydown",window.trapFocus.trapFocusHandlers.keydown)},window.trapFocus.trapFocusHandlers.focusout=function(){document.removeEventListener("keydown",window.trapFocus.trapFocusHandlers.keydown)},window.trapFocus.trapFocusHandlers.keydown=function(e){"TAB"===e.code.toUpperCase()&&(e.target!==o||e.shiftKey||(e.preventDefault(),i.focus()),e.target!==t&&e.target!==i||!e.shiftKey||(e.preventDefault(),o.focus()))},document.addEventListener("focusout",window.trapFocus.trapFocusHandlers.focusout),document.addEventListener("focusin",window.trapFocus.trapFocusHandlers.focusin),e.focus()}};try{document.querySelector(":focus-visible")}catch{!function(){const t=["ARROWUP","ARROWDOWN","ARROWLEFT","ARROWRIGHT","TAB","ENTER","SPACE","ESCAPE","HOME","END","PAGEUP","PAGEDOWN"];let e=null,s=null;window.addEventListener("keydown",(e=>{t.includes(e.code.toUpperCase())&&(s=!1)})),window.addEventListener("mousedown",(()=>{s=!0})),window.addEventListener("focus",(()=>{e&&e.classList.remove("focused"),s||(e=document.activeElement,e.classList.add("focused"))}),!0)}()}})(),customElements.get("menu-drawer")||customElements.define("menu-drawer",e),customElements.get("header-drawer")||customElements.define("header-drawer",class extends e{openMenuDrawer(t){this.header=this.header||document.getElementById("main-header"),this.borderOffset=1,document.documentElement.style.setProperty("--header-bottom-position",`${parseInt(this.header.getBoundingClientRect().bottom-this.borderOffset,10)}px`),setTimeout((()=>{this.mainDetailsToggle.classList.add("menu-opening")})),t.setAttribute("aria-expanded",!0),window.trapFocus.trapFocus(this.mainDetailsToggle,t),document.body.classList.add(`overflow-hidden-${this.dataset.breakpoint}`)}}),customElements.get("article-pagination")||customElements.define("article-pagination",n),customElements.get("slider-component")||customElements.define("slider-component",s),customElements.get("slideshow-component")||customElements.define("slideshow-component",class extends s{constructor(){super(),this.sliderControlWrapper=this.querySelector(".slider-buttons"),this.enableSliderLooping=!0,this.sliderControlWrapper&&(this.sliderFirstItemNode=this.slider.querySelector(".slideshow__slide"),this.sliderItemsToShow.length>0&&(this.currentPage=1),this.sliderControlLinksArray=Array.from(this.sliderControlWrapper.querySelectorAll(".slider-counter__link")),this.sliderControlLinksArray.forEach((t=>t.addEventListener("click",this.linkToSlide.bind(this)))),this.slider.addEventListener("scroll",this.setSlideVisibility.bind(this)),this.setSlideVisibility(),"true"===this.slider.getAttribute("data-autoplay")&&this.setAutoPlay())}setAutoPlay(){this.sliderAutoplayButton=this.querySelector(".slideshow__autoplay"),this.autoplaySpeed=1e3*this.slider.dataset.speed,this.sliderAutoplayButton.addEventListener("click",this.autoPlayToggle.bind(this)),this.addEventListener("mouseover",this.focusInHandling.bind(this)),this.addEventListener("mouseleave",this.focusOutHandling.bind(this)),this.addEventListener("focusin",this.focusInHandling.bind(this)),this.addEventListener("focusout",this.focusOutHandling.bind(this)),this.play(),this.autoplayButtonIsSetToPlay=!0}onButtonClick(t){super.onButtonClick(t);const e=1===this.currentPage,s=this.currentPage===this.sliderItemsToShow.length;(e||s)&&(e&&"previous"===t.currentTarget.name?this.slideScrollPosition=this.slider.scrollLeft+this.sliderFirstItemNode.clientWidth*this.sliderItemsToShow.length:s&&"next"===t.currentTarget.name&&(this.slideScrollPosition=0),this.slider.scrollTo({left:this.slideScrollPosition}))}update(){super.update(),this.sliderControlButtons=this.querySelectorAll(".slider-counter__link"),this.prevButton.removeAttribute("disabled"),this.sliderControlButtons.length&&(this.sliderControlButtons.forEach((t=>{t.classList.remove("slider-counter__link--active"),t.removeAttribute("aria-current")})),this.sliderControlButtons[this.currentPage-1].classList.add("slider-counter__link--active"),this.sliderControlButtons[this.currentPage-1].setAttribute("aria-current",!0),this.prevButton.removeAttribute("disabled"))}autoPlayToggle(){this.togglePlayButtonState(this.autoplayButtonIsSetToPlay),this.autoplayButtonIsSetToPlay?this.pause():this.play(),this.autoplayButtonIsSetToPlay=!this.autoplayButtonIsSetToPlay}focusOutHandling(t){const e=t.target===this.sliderAutoplayButton||this.sliderAutoplayButton.contains(t.target);this.autoplayButtonIsSetToPlay&&!e&&this.play()}focusInHandling(t){(t.target===this.sliderAutoplayButton||this.sliderAutoplayButton.contains(t.target))&&this.autoplayButtonIsSetToPlay?this.play():this.autoplayButtonIsSetToPlay&&this.pause()}play(){this.slider.setAttribute("aria-live","off"),clearInterval(this.autoplay),this.autoplay=setInterval(this.autoRotateSlides.bind(this),this.autoplaySpeed)}pause(){this.slider.setAttribute("aria-live","polite"),clearInterval(this.autoplay)}togglePlayButtonState(t){t?(this.sliderAutoplayButton.classList.add("slideshow__autoplay--paused"),this.sliderAutoplayButton.setAttribute("aria-label","Play slideshow")):(this.sliderAutoplayButton.classList.remove("slideshow__autoplay--paused"),this.sliderAutoplayButton.setAttribute("aria-label","Pause slideshow"))}autoRotateSlides(){const t=this.currentPage===this.sliderItems.length?0:this.slider.scrollLeft+this.slider.querySelector(".slideshow__slide").clientWidth;this.slider.scrollTo({left:t})}setSlideVisibility(){this.sliderItemsToShow.forEach(((t,e)=>{const s=t.querySelector("a");e===this.currentPage-1?(s&&s.removeAttribute("tabindex"),t.setAttribute("aria-hidden","false"),t.removeAttribute("tabindex")):(s&&s.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex","-1"))}))}linkToSlide(t){t.preventDefault();const e=this.slider.scrollLeft+this.sliderFirstItemNode.clientWidth*(this.sliderControlLinksArray.indexOf(t.currentTarget)+1-this.currentPage);this.slider.scrollTo({left:e})}}),customElements.get("deferred-media")||customElements.define("deferred-media",o)})();